cmake_minimum_required(VERSION 2.8.7)
file(GLOB_RECURSE SRCS_LIST  *.h *.inl *.cpp *.c *.cc *.cxx)

#option(ENABLE_ TOM_ TOM_NET_TEST "enable gamesh net test" OFF)
#if(ENABLE_ TOM_ TOM_NET_TEST)
#	add_definitions(-D TOM_ TOM_NET_TEST)
#endif()

#option(ENABLE_ TOM_ TOM_NET_TRAFFIC "enable gamesh net traffic" OFF)
#if(ENABLE_ TOM_ TOM_NET_TRAFFIC)
#	add_definitions(-D TOM_ TOM_NET_TRAFFIC)
#endif()

#option(ENABLE_ TOM_ TOM_NET_POLL_TEST "enable gamesh net poll test" OFF)
#if(ENABLE_ TOM_ TOM_NET_TRAFFIC)
#	add_definitions(-D TOM_ TOM_NET_POLL_TEST)
#endif()

#if(CMAKE_SYSTEM_NAME MATCHES "Linux")
#    message("------------gamesh_net Options -------------")
#    message("CMAKE_CXX_FLAGS : ${CMAKE_CXX_FLAGS}")
#endif()
set(ALL_FILES ${SRCS_LIST})
add_library(tomnet SHARED ${ALL_FILES})
if(NOT WIN32)
    target_link_libraries(tomnet pthread rt)
endif()
